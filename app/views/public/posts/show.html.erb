<h4>JSONで実装できなかった時に投稿詳細を見るページ</h4>
<div class="container">
  <div class="row">
    <div class="col-md-3" style="margin-top: 50px; text-align: center;">
      <h2>投稿詳細</h2>
    </div>
    <div class="col-md-6" style="margin-top: 50px; text-align: center;">
      <table class="table table-inverse">
        <th>画像</th>
          <td>
            <%= image_tag @post.image.variant(resize:'200x200') %>
          </td>
        </tr>
        <th>タイトル</th>
          <td><%= @post.title %></td>
        </tr>
        <tr>
          <th>内容</th>
          <td><%= @post.introduction %></td>
        </tr>
        <tr>
          <th>ジャンル</th>
          <td><%= @post.genre.genre %></td>
        </tr>
      </table>
    </div>
    <div class="col-md-3" style="margin-top: 50px; text-align: center;">
      登録情報
      <br>
      <%= link_to "編集",edit_public_post_path,class: 'btn btn-success' %>
      <br>
      <%= link_to '削除', public_post_path(@post.id), method: :delete, data: { confirm: '本当に消しますか？', class: 'btn-sm btn-danger' }, class: "btn btn-sm btn-danger"%>
      <% if @post.favorited_by?(current_user) %>
    <p>
      <%= link_to public_post_cutes_path(@post), method: :delete do %>
        <i class="fa-brands fa-gratipay"></i><%= @post.comments.count %> かわいい
      <% end %>
    </p>
    <% else %>
    <p>
      <%= link_to public_post_cute_path(@post), method: :post do %>
        <i class="fa-brands fa-gratipay"></i><%= @post.comments.count %> かわいい
      <% end %>
    </p>
  <% end %>

<% if @post.favorited_by?(current_user) %>
　　<p>
      <%= link_to public_post_looks_path(@post), method: :delete do %>
        <i class="fa-solid fa-eye"></i><%= @post.comments.count %> 見た
      <% end %>
    </p>
    <% else %>
    <p>
      <%= link_to public_post_cute_path(@post), method: :post do %>
        <i class="fa-solid fa-eye"></i><%= @post.comments.count %> 見た
      <% end %>
    </p>
<% end %>
    </div>

    <div class="col-md-12" style="margin-top: 50px; text-align: center;">

      <!--コメント機能-->
  <!--publicを記入してネストしている変数をとる-->
  <%= form_with model: [:public,@post,@comment] do |f| %>
    <%= f.text_area :comment, size: "40x5" %>
    <%= f.submit '送信', class: "btn-sm btn-primary" %>
  <% end %>

<table class="table table-inverse">
  <thead>
    <tr>
      <th>コメント投稿者</th>
      <th>コメント内容</th>
    </tr>
  </thead>
  <tbody>
    <% @comments.each do |comment| %>
      <tr>
        <!--コメント投稿者の名前をとってきたい-->
        <td><%= comment.user.name %></td>
        <td><%= comment.comment %></td>
        <td><%= link_to "削除", public_post_comment_path(@post, comment), method: :delete %></td>
      </tr>
    <% end %>
  </tbody>

</table>
    </div>

  </div>

</div>



